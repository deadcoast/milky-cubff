policy:
  name: "balanced_economy_v1"
  version: "1.0.0"
  description: "Balanced economic rules with moderate knight advantage"
  author: "M|inc Team"
  
  # Policy parameters
  parameters:
    employment_bonus: 0.08
    bribe_leakage: 0.05
    stake_fraction: 0.10
  
  # Economic functions
  functions:
    raid_value:
      formula: "alpha*merc.wealth.raid + beta*(merc.wealth.sense+merc.wealth.adapt) - gamma*king_defend + delta*king_exposed"
      parameters:
        alpha: 1.0
        beta: 0.25
        gamma: 0.60
        delta: 0.40
    
    p_knight_win:
      formula: "clamp(0.05, 0.95, 0.5 + sigmoid(weight * trait_delta) - 0.5 + employment_bonus)"
      parameters:
        weight: 0.30
      variables:
        trait_delta: "(knight.wealth.defend + knight.wealth.sense + knight.wealth.adapt) - (merc.wealth.raid + merc.wealth.sense + merc.wealth.adapt)"
        employment_bonus: "0.08 if knight.employer else 0.0"
    
    bribe_outcome:
      conditions:
        - if: "threshold >= raid_value and king.currency >= threshold"
          then:
            king_currency: "-threshold"
            merc_currency: "+threshold"
            king_wealth_leakage: 0.05
          result: "accepted"
        - if: "threshold >= raid_value"
          result: "insufficient_funds"
        - else:
          result: "rejected"
    
    trade_action:
      conditions:
        - if: "king.currency >= invest_amount"
          then:
            king_currency: "-invest_amount"
            king_wealth:
              defend: 3
              trade: 2
          result: "success"
        - else:
          result: "insufficient_funds"
